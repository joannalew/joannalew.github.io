<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<meta http-equiv="X-UA-Compatible" content="IE=edge">
		<meta name = "viewport" content = "width=device-width, initial-scale=1.0">

		<title>Reddit API Tutorial</title>
		
		<link href = "css/bootstrap.min.css" rel = "stylesheet">
		<link href = "css/styles.css" rel = "stylesheet">
	</head>

	<body>

	<!-- Navbar -->
		<div class = "navbar navbar-default navbar-static-top">
			<div class = "container">
				<a href = "index.html" class = "navbar-brand">Reddit API Tutorial</a>
				
				<button class = "navbar-toggle" data-toggle = "collapse" data-target = ".navHeaderCollapse">
					<span class = "icon-bar"></span>
					<span class = "icon-bar"></span>
					<span class = "icon-bar"></span>
				</button>
				
				<div class = "collapse navbar-collapse navHeaderCollapse">
					<ul class = "nav navbar-nav navbar-left">
						<li class = "dropdown">
						<a href = "#" class = "dropdown-toggle" data-toggle = "dropdown">Navigation<b class = "caret"></b></a>
							<ul class = "dropdown-menu">
								<li><a href = "page2.html">Getting an API Key</a></li>
								<li><a href = "page3.html">Using Command Line</a></li>
								<li><a href = "page4.html">Using Snoocore</a></li>
								<li><a href = "page5.html">Making a Post</a></li>
								<li><a href = "page6.html">Upvoting a Post</a></li>
								<li><a href = "page7.html">Making the Bot</a></li>
							</ul>
						</li>
						<li><a href = "https://www.reddit.com/dev/api">Reddit API</a></li>
						<li><a href = "https://github.com/trevorsenior/snoocore">Snoocore</a></li>
						<li><a href = "https://nodejs.org/en/">Node.js</a></li>
					</ul>
				</div>

			</div>
		</div>

	
	<!-- Jumbotron -->
	<div class = "container">
		<div class = "jumbotron">
			<div><h1>Making the Bot</h1></div>
			<p></p>
			<p>Now that we know how to use the API and Snoocore, let's put it all together and build a bot. First, we'll make a post on <a href="https://www.reddit.com/r/bottest/">/r/bottest</a>. Then, our bot will make a comment to that post every 11 minutes. Without further ado, let's take a look at the code.</p>

			<p>To make the post, we reuse the code from earlier on <a href="page5.html">Making a Post</a>. The code for the automated comments every 11 minutes is shown below.</p>
			
			<iframe width="100%" height="300" src="https://jsfiddle.net/joanna4649/k1ur9v83/2/embedded/js/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
			<p></p>

			<p>The initialization and login process is the same as before. We check the scope of <a href="https://www.reddit.com/dev/api#POST_api_comment">/api/comment</a> using the API documentation. For the <code>submitComment</code> function, we use the appropriate parameters and set their values according to the documentation. Not much new here.</p>

			<p>To automate the function, we use Javascript's <code>setInterval()</code> method, which calls a function after a specified interval. Since the intervals have units of milliseconds, we pass the value <code>11 * 60 * 1000</code>, which equates to 11 minutes. While it is possible to make the intervals smaller, beware of posting too often as Reddit will issue an error message and temporarily prevent your bot from commenting.</p>

			<p>There are many, many ways to turn a script into a bot. We can automate our bot using an application. On Macs, one can automate a task <a href="http://smallbusiness.chron.com/schedule-automator-tasks-mac-os-x-39132.html">using Automator</a>. On Windows, one can schedule a task and repeat it <a href="https://technet.microsoft.com/en-us/library/cc748993(v=ws.11).aspx">using Task Scheduler</a>. If you're absolutely gung ho about using Javascript, there are even <a href="https://github.com/kelektiv/node-cron">libraries</a> dedicated to scheduling and automating tasks.</p>

			<p>Let's take a look at the result of all our efforts!</p>
			<img src="img/img7-1.png" class = "img-responsive">
			<p id="hotfix1">p</p>

			<img src="img/img7-2.png" class = "img-responsive">
			<p id="hotfix1">p</p>

			<p>And that's all there is to it! Using the concepts covered in this tutorial, you can make a bot that posts something new every 10 minutes to some poor, unsuspecting Subreddit. You can go through a Subreddit and upvote every post on the first page every hour on the hour. You can do anything! Head over to <a href = "https://www.reddit.com/dev/api">Reddit's API documentation</a> to see what you can code up.</p>

			<p id="hotfix1">p</p>
			<p><a href = "page6.html" class = "btn btn-lg btn-default">&laquo; Previous</a></p>
		</div>
		</div>
	</div>



	<!-- Footer -->
	<div class = "navbar navbar-default navbar-fixed-bottom">
		<div class = "container">
			<p class = "navbar-text pull-left">Written by Joanna Lew</p>
		</div>
	</div>

		<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
		<script src="js/bootstrap.js"></script>


	</body>
</html>
